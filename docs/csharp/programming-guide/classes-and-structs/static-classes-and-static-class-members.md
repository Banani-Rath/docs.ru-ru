---
title: "Статические классы и члены статических классов (Руководство по программированию в C#) | Microsoft Docs"
ms.custom: ""
ms.date: "11/24/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "CSharp"
helpviewer_keywords: 
  - "C# - язык, статические классы"
  - "C# - язык, статические члены"
  - "члены статических классов [C#]"
  - "статические классы [C#]"
  - "статические члены [C#]"
ms.assetid: 235614b5-1371-4dbd-9abd-b406a8b0298b
caps.latest.revision: 49
caps.handback.revision: 49
author: "BillWagner"
ms.author: "wiwagn"
manager: "wpickett"
translationtype: Human Translation
---
# Статические классы и члены статических классов (Руководство по программированию в C#)
[!INCLUDE[vs2017banner](../../../csharp/includes/vs2017banner.md)]

[Статический](../../../csharp/language-reference/keywords/static.md) класс в основном такой же, что и нестатический класс, но имеется одно отличие: нельзя создавать экземпляры статического класса.  Другими словами, нельзя использовать ключевое слово [new](../../../csharp/language-reference/keywords/new.md) для создания переменной типа класса.  Поскольку нет переменной экземпляра, доступ к членам статического класса осуществляется с использованием самого имени класса.  Например, если имеется статический класс, называемый `UtilityClass`, имеющий открытый метод, называемый `MethodA`, вызов метода выполняется, как показано в следующем примере.  
  
```c#  
UtilityClass.MethodA();  
```  
  
 Статический класс может использоваться как обычный контейнер для наборов методов, работающих на входных параметрах, и не должен возвращать или устанавливать каких\-либо внутренних полей экземпляра.  Например, в библиотеке классов платформы .NET Framework статический класс <xref:System.Math?displayProperty=fullName> содержит методы, выполняющие математические операции, без требования сохранять или извлекать данные, уникальные для конкретного экземпляра класса <xref:System.Math>.  Это значит, что члены класса применяются путем задания имени класса и имени метода, как показано в следующем примере.  
  
```  
double dub = -3.14;  
Console.WriteLine(Math.Abs(dub));  
Console.WriteLine(Math.Floor(dub));  
Console.WriteLine(Math.Round(Math.Abs(dub)));  
  
// Output:  
// 3.14  
// -4  
// 3  
  
```  
  
 Как и в случае с типами всех классов сведения о типе для статического класса загружаются средой CLR [!INCLUDE[dnprdnshort](../../../csharp/getting-started/includes/dnprdnshort_md.md)], когда загружается программа, которая ссылается на класс. Программа не может точно указать, когда загружается класс.  Но гарантируется загрузка этого класса, инициализация его полей и вызов статического конструктора перед первым обращением к классу в программе.  Статический конструктор вызывается только один раз, и статический класс остается в памяти на время существования домена приложения, в котором находится программа.  
  
> [!NOTE]
>  Создание нестатического класса, который допускает создание только одного экземпляра самого себя, см. в документе [Реализация Singleton в C\#](http://go.microsoft.com/fwlink/?LinkID=100567).  
  
 Следующий список предоставляет основные характеристики статического класса:  
  
-   Содержит только статические члены.  
  
-   Создавать его экземпляры нельзя.  
  
-   Он закрыт.  
  
-   Не может содержать [конструкторов экземпляров](../../../csharp/programming-guide/classes-and-structs/instance-constructors.md).  
  
 По сути, создания статического класса аналогично созданию класса, содержащего только статические члены и закрытый конструктор.  Закрытый конструктор не допускает создания экземпляров класса.  Преимущество применения статических классов заключается в том, что компилятор может проверить отсутствие случайно добавленных членов экземпляров.  Таким образом, компилятор гарантирует невозможность создания экземпляров таких классов.  
  
 Статические классы запечатаны, поэтому их нельзя наследовать.  Они не могут быть унаследованы ни от каких классов, кроме <xref:System.Object>.  Статические классы не могут содержать конструктор экземпляров, но могут содержать статический конструктор.  Нестатические классы также должен определять статический конструктор, если класс содержит статические члены, для которых нужна нетривиальная инициализация.  Дополнительные сведения см. в разделе [Статические конструкторы](../../../csharp/programming-guide/classes-and-structs/static-constructors.md).  
  
## Пример  
 Ниже приведен пример статического класса, содержащего два метода, преобразующих температуру по Цельсию в температуру по Фаренгейту и наоборот.  
  
 [!CODE [csProgGuideObjects#31](../CodeSnippet/VS_Snippets_VBCSharp/csProgGuideObjects#31)]  
  
## Статические члены  
 Нестатический класс может содержать статические методы, поля, свойства или события.  Статический член вызывается для класса даже в том случае, если не создано экземпляра класса.  Доступ к статическому члены всегда выполняется по имени класса, а не экземпляра.  Существует только одна копия статического члена, независимо от того, сколько создано экземпляров класса.  Статические методы и свойства не могут обращаться к нестатическим полям и событиям в их содержащем типе, и они не могут обращаться к переменной экземпляра объекта, если он не передается явно в параметре метода.  
  
 Более привычно объявление нестатического класса с несколькими статическими членами, чем объявлять весь класс как статический.  Статические поля обычно используются для следующих двух целей: хранение счетчика числа созданных объектов, или хранение значения, которое должно совместно использоваться всеми экземплярами.  
  
 Статические методы могут быть перегружены, но не переопределены, поскольку они относятся к классу, а не к экземпляру класса.  
  
 Хотя поле, не может быть объявлено как `static const`, поле [const](../../../csharp/language-reference/keywords/const.md) по своему поведению является статическим.  Оно относится к типу, а не к экземплярам типа.  Поэтому к полям const можно обращаться с использованием той же нотации `ClassName.MemberName`, что и используемой для статических полей.  Необходим экземпляр объекта.  
  
 C\# не поддерживает статических локальных переменных \(переменных, которые объявлены в области действия метода\).  
  
 Для объявления статических методов класса используется ключевое слово `static` перед возвращаемым типом члена, как показано в следующем примере:  
  
 [!CODE [csProgGuideObjects#29](../CodeSnippet/VS_Snippets_VBCSharp/csProgGuideObjects#29)]  
  
 Статические члены инициализируются перед первым доступом к статическому члену и перед вызовом статического конструктора, если он имеется.  Для доступа к члену статического класса следует использовать имя класса, а не имя переменной, указывая расположение члена, как показано в следующем примере:  
  
 [!CODE [csProgGuideObjects#30](../CodeSnippet/VS_Snippets_VBCSharp/csProgGuideObjects#30)]  
  
 Если класс содержит статические поля, должен быть предоставлен статический конструктор, который инициализирует эти поля при загрузке класса.  
  
 Вызов статического метода генерирует инструкцию вызова в промежуточном языке Microsoft \(MSIL\), в то время как вызов метода экземпляра генерирует инструкцию `callvirt`, которая также проверяет наличие ссылок на пустые объекты.  Однако чаще всего разница в производительности двух видов вызовов несущественна.  
  
## Спецификация языка C\#  
 [!INCLUDE[CSharplangspec](../../../csharp/language-reference/keywords/includes/csharplangspec_md.md)]  
  
## См. также  
 [Руководство по программированию на C\#](../../../csharp/programming-guide/index.md)   
 [статический](../../../csharp/language-reference/keywords/static.md)   
 [Классы](../../../csharp/programming-guide/classes-and-structs/classes.md)   
 [класс](../../../csharp/language-reference/keywords/class.md)   
 [Статические конструкторы](../../../csharp/programming-guide/classes-and-structs/static-constructors.md)   
 [Конструкторы экземпляров](../../../csharp/programming-guide/classes-and-structs/instance-constructors.md)