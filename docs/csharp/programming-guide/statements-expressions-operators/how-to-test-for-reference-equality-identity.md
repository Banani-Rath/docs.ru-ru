---
title: "Практическое руководство. Тестирование на равенство (идентичность) ссылок (Руководство по программированию на C#) | Microsoft Docs"
ms.custom: ""
ms.date: "11/24/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "CSharp"
helpviewer_keywords: 
  - "идентификация объектов [C#]"
  - "равенство ссылок [C#]"
ms.assetid: 91307fda-267b-4fd2-a338-2aada39ee791
caps.latest.revision: 13
caps.handback.revision: 13
author: "BillWagner"
ms.author: "wiwagn"
manager: "wpickett"
translationtype: Human Translation
---
# Практическое руководство. Тестирование на равенство (идентичность) ссылок (Руководство по программированию на C#)
[!INCLUDE[vs2017banner](../../../csharp/includes/vs2017banner.md)]

Для поддержки проверки равенства ссылок в разрабатываемых типах реализовывать дополнительную логику не требуется.  Эта функциональность обеспечивается для всех типов статическим методом <xref:System.Object.ReferenceEquals%2A?displayProperty=fullName>.  
  
 В следующем примере показано, как проверить *равенство ссылок* двух переменных, т. е. тот факт, что они ссылаются на один и тот же объект в памяти.  
  
 В примере также показано, почему <xref:System.Object.ReferenceEquals%2A?displayProperty=fullName> всегда возвращает значение `false` для типов значений и поэтому не нужно использовать <xref:System.Object.ReferenceEquals%2A>, чтобы определить равенство строки.  
  
## Пример  
 [!CODE [csProgGuideObjects#90](../CodeSnippet/VS_Snippets_VBCSharp/csProgGuideObjects#90)]  
  
 Реализация метода `Equals` в универсальном базовом классе <xref:System.Object?displayProperty=fullName> также проверяет равенство ссылок, но ее лучше не использовать, поскольку, если этот метод был переопределен в производном классе, результат может оказаться непредсказуемым.  Это также относится к операторам `==` и `!=`.  При работе со ссылочными типами операторы \=\= и `!=` по умолчанию проверяют равенство ссылок.  Однако в производных классах эти операторы можно переопределить, чтобы использовать их для проверки равенства значений.  Чтобы свести к минимуму возможности для возникновения ошибок, метод <xref:System.Object.ReferenceEquals%2A> лучше использовать в тех случаях, когда требуется проверить равенство ссылок двух объектов.  
  
 Постоянные строки в пределах одной сборки всегда интернируются средой выполнения.  Поэтому сохраняется только один экземпляр каждой уникальной строки литералов.  Однако среда выполнения не гарантирует, что интернируются создаваемые в ней строки и что две константные строки в разных сборках также интернируются.  
  
## См. также  
 [Сравнения на равенство](../../../csharp/programming-guide/statements-expressions-operators/equality-comparisons.md)